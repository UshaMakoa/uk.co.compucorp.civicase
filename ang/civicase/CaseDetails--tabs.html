<ul civicase-case-tab-affix class="civicase__case-body_tab nav nav-pills nav-pills-horizontal nav-pills-horizontal-primary">
  <li ng-repeat="tab in tabs" ng-class="{active: activeTab === tab.name}">
    <a href ng-click="selectTab(tab.name)">
      {{ tab.label }}
      <span class="sr-only" ng-if="activeTab === tab.name">{{ ts('Current') }}</span>
    </a>
  </li>
  <li class="pull-right" civicase-dropdown>
    <div class="civicase__case-details__add-new-dropdown">
      <button type="button" class="btn btn-primary" civicase-dropdown-toggle>
        <i class="material-icons">add_circle</i>Add new<i class="fa fa-caret-down"></i>
      </button>
      <ul class="dropdown-menu">
        <li>
          <a
            class="crm-popup"
            ng-href="{{ 'civicrm/activity/email/add' | civicaseCrmUrl:{ action: 'add', caseid: item.id, reset: 1, cid: role.contact_id } }}">
            <i class="material-icons">email</i>
            {{ts('Create email')}}
          </a>
        </li>
        <li>
          <a
            class="crm-popup"
            ng-href="{{ 'civicrm/activity/pdf/add' | civicaseCrmUrl:{ action: 'add', caseid: item.id, reset: 1, cid: role.contact_id, context: 'standalone' } }}">
            <i class="material-icons">picture_as_pdf</i>
            {{ts('Create PDF letter')}}
          </a>
        </li>
        <li class="divider"></li>
        <li class="civicase__activity-dropdown" civicase-dropdown civicase-dropdown-trigger="hover">
          <a href civicase-dropdown-toggle>
            {{ts('Add activity')}}
            <i class="fa fa-caret-right pull-right"></i>
          </a>
          <civicase-add-activity-menu
            case="item"
            crm-popup-form-success="pushCaseData($data.civicase_reload[0])"
            on-get-case-params="caseGetParams()">
          </civicase-add-activity-menu>
        </li>
        <li class="civicase__timeline-dropdown" civicase-dropdown civicase-dropdown-trigger="hover">
          <a href civicase-dropdown-toggle>
            {{ts('Add timeline')}}
            <i class="fa fa-caret-right pull-right"></i>
          </a>
          <ul class="dropdown-menu civicase__dropdown-menu--filters">
            <li class="form-group has-feedback">
              <input class="form-control" type="text" ng-model="activitySetSearchText" />
              <i class="material-icons form-control-feedback">search</i>
            </li>
            <li class="divider"></li>
            <li ng-repeat="timeline in item.definition.activitySets | filter:{label: activitySetSearchText}">
              <a href crm-confirm="{message: ts('Add all activities from %1 to this case?', {1: timeline.label})}" on-yes="addTimeline(timeline.name)">
                {{timeline.label}}
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </li>
</ul>
<div class="tab-content">
  <div class="civicase__case-tab--summary" ng-if="activeTab === 'summary'" ng-include="'~/civicase/CaseDetails--tabs--summary.html'"></div>
  <div class="civicase__case-tab--activities" ng-if="activeTab === 'activities'" civicase-activity-feed="{case_id: item.id}" refresh-callback="refresh"></div>
  <div class="civicase__case-tab--people" ng-if="activeTab === 'people'" civicase-case-details-people-tab="item" refresh-callback="refresh"></div>
  <div class="civicase__case-tab--files" ng-if="activeTab === 'files'" civicase-case-details-file-tab="item"></div>
</div>


<!-- <nav class="navbar civicase-view-tab-bar navbar-inverse" case-tab-affix>
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li ng-repeat="tab in tabs" ng-class="{active: activeTab === tab.name}">
        <a href ng-click="selectTab(tab.name)">
          {{ tab.label }}
          <span class="sr-only" ng-if="activeTab === tab.name">{{ ts('Current') }}</span>
        </a>
      </li>
    </ul>
    <div class="btn-group btn-group-md pull-right">
      <button type="button" class="btn dropdown-toggle searchable-dropdown" data-toggle="dropdown">
        <span><i class="fa fa-plus"></i> {{ ts('Timeline') }}</span>
        <input class="form-control" ng-model="activitySetSearchText" />
      </button>
      <ul class="dropdown-menu">
        <li ng-repeat="timeline in item.definition.activitySets | filter:{label: activitySetSearchText}">
          <a href crm-confirm="{message: ts('Add all activities from %1 to this case?', {1: timeline.label})}" on-yes="addTimeline(timeline.name)">
            {{ timeline.label }}
          </a>
        </li>
      </ul>
    </div>
    <div class="btn-group btn-group-md pull-right">
      <button type="button" class="btn dropdown-toggle searchable-dropdown" data-toggle="dropdown">
        <span><i class="fa fa-plus"></i> {{ ts('Activity') }}</span>
        <input class="form-control" ng-model="activityTypeSearchText" />
      </button>
      <ul class="dropdown-menu">
        <li ng-repeat="actType in availableActivityTypes | filter:{label: activityTypeSearchText}">
          <a crm-popup-form-success="pushCaseData($data.civicase_reload[0])" class="crm-popup" ng-href="{{ newActivityUrl(actType) }}">
            <i class="fa fa-fw {{ actType.icon || 'fa-circle' }}">
              <span class="civicase__loading-placeholder__icon" ng-if="!actType.icon">{{ actType.label[0] }}</span>
            </i>
            {{ actType.label }}
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="case-tab-summary" ng-show="activeTab === 'summary'" ng-include="'~/civicase/CaseViewSummary.html'"></div>
<div class="case-tab-activities" ng-if="activeTab === 'activities'" civicase-activity-feed="{case_id: item.id}" refresh-callback="refresh"></div>
<div class="case-tab-people" ng-if="activeTab === 'people'" civicase-view-people="item" refresh-callback="refresh"></div>
<div class="case-tab-files" ng-if="activeTab === 'files'" civicase-view-files="item"></div> -->
